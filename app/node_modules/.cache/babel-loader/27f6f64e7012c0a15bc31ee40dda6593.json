{"remainingRequest":"/Users/zoulan/Desktop/web-learn-static/vue/2020-08-15-vue-04/作业/app/node_modules/babel-loader/lib/index.js!/Users/zoulan/Desktop/web-learn-static/vue/2020-08-15-vue-04/作业/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zoulan/Desktop/web-learn-static/vue/2020-08-15-vue-04/作业/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zoulan/Desktop/web-learn-static/vue/2020-08-15-vue-04/作业/app/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zoulan/Desktop/web-learn-static/vue/2020-08-15-vue-04/作业/app/src/views/Login.vue","mtime":1598163326870},{"path":"/Users/zoulan/Desktop/web-learn-static/vue/2020-08-15-vue-04/作业/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zoulan/Desktop/web-learn-static/vue/2020-08-15-vue-04/作业/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zoulan/Desktop/web-learn-static/vue/2020-08-15-vue-04/作业/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zoulan/Desktop/web-learn-static/vue/2020-08-15-vue-04/作业/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy96b3VsYW4vRGVza3RvcC93ZWItbGVhcm4tc3RhdGljL3Z1ZS8yMDIwLTA4LTE1LXZ1ZS0wNC9cdTRGNUNcdTRFMUEvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbG9naW4gfSBmcm9tICdAL2FwaS91c2VyLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN1Ym1pdERhdGE6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycKICAgICAgfSwKICAgICAgbWVzc2FnZTogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBkb0xvZ2luOiBmdW5jdGlvbiBkb0xvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGF0YSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgbmFtZTogX3RoaXMuc3VibWl0RGF0YS5uYW1lLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogX3RoaXMuc3VibWl0RGF0YS5wYXNzd29yZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2luKGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMubWVzc2FnZSA9ICfnmbvlvZXmiJDlip8nOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOyAvLyBsZXQgdG9rZW4gPSByZXMuaGVhZGVycy5hdXRob3JpemF0aW9uOwoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIEpTT04uc3RyaW5naWZ5KHJlcy5oZWFkZXJzLmF1dGhvcml6YXRpb24pKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICAgIH0pOyAvLyBjb25zb2xlLmxvZyh0b2tlbikKCgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5kaXIoX2NvbnRleHQudDApOwogICAgICAgICAgICAgICAgX3RoaXMubWVzc2FnZSA9IF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,SAAA,KAAA,QAAA,eAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,OAAA,EAAA;AALA,KAAA;AAQA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,gBAAA,IAXA,GAWA;AACA,kBAAA,IAAA,EAAA,KAAA,CAAA,UAAA,CAAA,IADA;AAEA,kBAAA,QAAA,EAAA,KAAA,CAAA,UAAA,CAAA;AAFA,iBAXA;AAAA;AAAA,uBAeA,KAAA,CAAA,IAAA,CAfA;;AAAA;AAeA,gBAAA,GAfA;AAgBA,gBAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,EAjBA,CAkBA;;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,OAAA,CAAA,aAAA,CAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,kBAAA,IAAA,EAAA;AADA,iBAAA,EApBA,CAuBA;;;AAvBA;AAAA;;AAAA;AAAA;AAAA;AAyBA,gBAAA,OAAA,CAAA,GAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,YAAA,QAAA,CAAA,IAAA;;AA1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6BA;AA9BA;AAZA,CAAA","sourcesContent":["<template>\n  <div id=\"main\">\n    <div id=\"login\" class=\"panel\">\n      <!-- <h2>登录</h2> -->\n      <form action=\"\">\n        <div class=\"form-item\">\n          <label>\n            <span class=\"txt\">姓名：</span>\n            <input type=\"text\" class=\"form-input\" v-model=\"submitData.name\"/>\n          </label>\n        </div>\n        <div class=\"form-item\">\n          <label>\n            <span class=\"txt\">密码：</span>\n            <input type=\"password\" class=\"form-input\" v-model=\"submitData.password\"/>\n          </label>\n        </div>\n        <!-- <div class=\"form-item\">\n                    <label>\n                        <span class=\"txt\">重复密码：</span>\n                        <input type=\"password\" class=\"form-input\">\n                    </label>\n                </div> -->\n        <div class=\"form-item\">\n          <label>\n            <button class=\"form-button primary\" @click.prevent=\"doLogin\">\n              登录\n            </button>\n            <button class=\"form-button\">注册</button>\n          </label>\n        </div>\n        <span class=\"txt\">{{message}}</span>\n\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {login} from '@/api/user.js'\nexport default {\n    name:'Login',\n    data(){\n        return{\n            submitData:{\n                name:'',\n                password:''\n            },\n            message:''\n        \n        }\n    },\n    methods:{\n        async doLogin(){\n            // console.log(\"获取登录名\",this.submitData.name)\n            // const data = {\n            //     name: this.submitData.name,\n            //     password: this.submitData.password,\n            // };\n            // const res =await login(data);\n            // console.log(res.data)\n            // let token = res.headers.authorization;\n            // console.log(token)\n            try{\n            const data = {\n                name: this.submitData.name,\n                password: this.submitData.password,\n            };\n            const res =await login(data);\n            this.message = '登录成功'\n            console.log(res.data)\n            // let token = res.headers.authorization;\n            localStorage.setItem('token',JSON.stringify(res.headers.authorization));\n            this.$router.push({\n                name:'home'\n            });\n            // console.log(token)\n            }catch(e){\n                console.dir(e)\n                this.message = e.response.data\n            }\n            \n        }\n    }\n\n}\n</script>\n<style></style>\n"],"sourceRoot":"src/views"}]}